{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GanttChart=_ref=>{let{tasks}=_ref;if(!tasks||tasks.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 py-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Your timeline will appear here.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Set a start date and select some assets to begin.\"})]});}// --- CONFIGURATION ---\nconst DAY_COLUMN_WIDTH=48;// 48px per day. Adjust if needed.\nconst ROW_HEIGHT=80;// The height of each task row in pixels.\nconst HEADER_HEIGHT=50;// Height of the date header.\nconst TASK_NAME_WIDTH=320;// Corresponds to Tailwind's w-80.\n// --- DATE CALCULATIONS ---\nconst startDates=tasks.map(task=>new Date(task.start));const endDates=tasks.map(task=>new Date(task.end));const minDate=new Date(Math.min(...startDates));const maxDate=new Date(Math.max(...endDates));const totalDays=Math.ceil((maxDate-minDate)/(1000*60*60*24))+1;const dateColumns=Array.from({length:totalDays},(_,i)=>{const date=new Date(minDate);date.setDate(minDate.getDate()+i);return date;});return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800\",children:\"Project Gantt Chart\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600\",children:[tasks.length,\" tasks \\u2022 \",totalDays,\" days total \\u2022 \",minDate.toLocaleDateString(),\" to \",maxDate.toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto border border-gray-300 rounded-lg\",style:{maxHeight:'75vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex sticky top-0 z-20 bg-gray-100\",style:{height:`${HEADER_HEIGHT}px`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky left-0 z-10 p-3 border-b border-r border-gray-300 font-semibold text-gray-700 bg-gray-50 flex items-center\",style:{width:`${TASK_NAME_WIDTH}px`,minWidth:`${TASK_NAME_WIDTH}px`},children:\"Task Name\"}),dateColumns.map((date,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-1 text-xs text-center border-b border-r border-gray-200 flex flex-col justify-center\",style:{width:`${DAY_COLUMN_WIDTH}px`,minWidth:`${DAY_COLUMN_WIDTH}px`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:date.getDate()}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:date.toLocaleDateString('en',{month:'short'})})]},index))]}),/*#__PURE__*/_jsx(\"div\",{children:tasks.map(task=>{const taskStart=new Date(task.start);const taskEnd=new Date(task.end);const startOffsetDays=Math.floor((taskStart-minDate)/(1000*60*60*24));const durationDays=Math.ceil((taskEnd-taskStart)/(1000*60*60*24))+1;const durationText=durationDays;return/*#__PURE__*/_jsxs(\"div\",{className:\"group flex\",style:{height:`${ROW_HEIGHT}px`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky left-0 z-10 p-3 border-b border-r border-gray-200 bg-white group-hover:bg-gray-50 flex flex-col justify-center\",style:{width:`${TASK_NAME_WIDTH}px`,minWidth:`${TASK_NAME_WIDTH}px`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-800 text-sm leading-tight whitespace-normal\",children:task.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[durationText,\" day\",durationText!==1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative border-b border-gray-200\",style:{width:`${dateColumns.length*DAY_COLUMN_WIDTH}px`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full\",children:dateColumns.map((_,colIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"border-r border-gray-200\",style:{width:`${DAY_COLUMN_WIDTH}px`,minWidth:`${DAY_COLUMN_WIDTH}px`}},colIndex))}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 -translate-y-1/2 h-10 bg-blue-500 rounded shadow-sm flex items-center justify-start px-2\",style:{left:`${startOffsetDays*DAY_COLUMN_WIDTH}px`,width:`${durationDays*DAY_COLUMN_WIDTH}px`},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xs font-medium truncate\",children:task.name})})]})]},task.id);})})]})})]});};export default GanttChart;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","GanttChart","_ref","tasks","length","className","children","DAY_COLUMN_WIDTH","ROW_HEIGHT","HEADER_HEIGHT","TASK_NAME_WIDTH","startDates","map","task","Date","start","endDates","end","minDate","Math","min","maxDate","max","totalDays","ceil","dateColumns","Array","from","_","i","date","setDate","getDate","toLocaleDateString","style","maxHeight","height","width","minWidth","index","month","taskStart","taskEnd","startOffsetDays","floor","durationDays","durationText","name","colIndex","left","id"],"sources":["/Users/hamishnicklin/Desktop/Accordion/src/components/GanttChart.js"],"sourcesContent":["import React from 'react';\n\nconst GanttChart = ({ tasks }) => {\n  if (!tasks || tasks.length === 0) {\n    return (\n      <div className=\"text-center text-gray-500 py-10\">\n        <p className=\"text-lg\">Your timeline will appear here.</p>\n        <p className=\"text-sm\">Set a start date and select some assets to begin.</p>\n      </div>\n    );\n  }\n\n  // --- CONFIGURATION ---\n  const DAY_COLUMN_WIDTH = 48; // 48px per day. Adjust if needed.\n  const ROW_HEIGHT = 80; // The height of each task row in pixels.\n  const HEADER_HEIGHT = 50; // Height of the date header.\n  const TASK_NAME_WIDTH = 320; // Corresponds to Tailwind's w-80.\n\n  // --- DATE CALCULATIONS ---\n  const startDates = tasks.map(task => new Date(task.start));\n  const endDates = tasks.map(task => new Date(task.end));\n  const minDate = new Date(Math.min(...startDates));\n  const maxDate = new Date(Math.max(...endDates));\n  \n  const totalDays = Math.ceil((maxDate - minDate) / (1000 * 60 * 60 * 24)) + 1;\n\n  const dateColumns = Array.from({ length: totalDays }, (_, i) => {\n    const date = new Date(minDate);\n    date.setDate(minDate.getDate() + i);\n    return date;\n  });\n\n  return (\n    <div className=\"w-full\">\n      {/* Summary Header */}\n      <div className=\"mb-4 p-4 bg-blue-50 rounded-lg\">\n        <h3 className=\"text-lg font-semibold text-blue-800\">Project Gantt Chart</h3>\n        <p className=\"text-sm text-blue-600\">\n          {tasks.length} tasks • {totalDays} days total • {minDate.toLocaleDateString()} to {maxDate.toLocaleDateString()}\n        </p>\n      </div>\n\n      {/* Main Scrollable Container */}\n      <div className=\"overflow-auto border border-gray-300 rounded-lg\" style={{ maxHeight: '75vh' }}>\n        {/* Grid Container */}\n        <div className=\"relative\">\n          {/* STICKY HEADER */}\n          <div \n            className=\"flex sticky top-0 z-20 bg-gray-100\"\n            style={{ height: `${HEADER_HEIGHT}px` }}\n          >\n            {/* Top-Left Corner Box */}\n            <div \n              className=\"sticky left-0 z-10 p-3 border-b border-r border-gray-300 font-semibold text-gray-700 bg-gray-50 flex items-center\" \n              style={{ width: `${TASK_NAME_WIDTH}px`, minWidth: `${TASK_NAME_WIDTH}px` }}\n            >\n              Task Name\n            </div>\n            {/* Date Columns Header */}\n            {dateColumns.map((date, index) => (\n              <div \n                key={index} \n                className=\"p-1 text-xs text-center border-b border-r border-gray-200 flex flex-col justify-center\" \n                style={{ width: `${DAY_COLUMN_WIDTH}px`, minWidth: `${DAY_COLUMN_WIDTH}px` }}\n              >\n                <div className=\"font-medium\">{date.getDate()}</div>\n                <div className=\"text-gray-500\">{date.toLocaleDateString('en', { month: 'short' })}</div>\n              </div>\n            ))}\n          </div>\n\n          {/* TASK ROWS */}\n          <div>\n            {tasks.map((task) => {\n              const taskStart = new Date(task.start);\n              const taskEnd = new Date(task.end);\n              const startOffsetDays = Math.floor((taskStart - minDate) / (1000 * 60 * 60 * 24));\n              const durationDays = Math.ceil((taskEnd - taskStart) / (1000 * 60 * 60 * 24)) + 1;\n              const durationText = durationDays;\n\n              return (\n                <div key={task.id} className=\"group flex\" style={{ height: `${ROW_HEIGHT}px` }}>\n                  {/* Sticky Task Name Column */}\n                  <div \n                    className=\"sticky left-0 z-10 p-3 border-b border-r border-gray-200 bg-white group-hover:bg-gray-50 flex flex-col justify-center\" \n                    style={{ width: `${TASK_NAME_WIDTH}px`, minWidth: `${TASK_NAME_WIDTH}px` }}\n                  >\n                    <div className=\"font-medium text-gray-800 text-sm leading-tight whitespace-normal\">{task.name}</div>\n                    <div className=\"text-xs text-gray-500 mt-1\">\n                      {durationText} day{durationText !== 1 ? 's' : ''}\n                    </div>\n                  </div>\n                  {/* Timeline section for this row */}\n                  <div className=\"relative border-b border-gray-200\" style={{ width: `${dateColumns.length * DAY_COLUMN_WIDTH}px` }}>\n                    {/* Background Grid Lines for this row */}\n                    <div className=\"flex h-full\">\n                      {dateColumns.map((_, colIndex) => (\n                        <div key={colIndex} className=\"border-r border-gray-200\" style={{ width: `${DAY_COLUMN_WIDTH}px`, minWidth: `${DAY_COLUMN_WIDTH}px` }} />\n                      ))}\n                    </div>\n                    {/* Task Bar */}\n                    <div \n                      className=\"absolute top-1/2 -translate-y-1/2 h-10 bg-blue-500 rounded shadow-sm flex items-center justify-start px-2\"\n                      style={{\n                        left: `${startOffsetDays * DAY_COLUMN_WIDTH}px`,\n                        width: `${durationDays * DAY_COLUMN_WIDTH}px`,\n                      }}\n                    >\n                      <span className=\"text-white text-xs font-medium truncate\">{task.name}</span>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n       {/* ... (Export Options can remain the same) ... */}\n    </div>\n  );\n};\n\nexport default GanttChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}